<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the layoutChildSequence method from the RenderViewportBase class, for the Dart programming language.">
  <title>layoutChildSequence method - RenderViewportBase class - rendering library - Dart API</title>

  <!-- required because all the links are pseudo-absolute -->
  <base href="../../">

  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="static-assets/github.css?v1">
  <link rel="stylesheet" href="static-assets/styles.css?v1">
  <link rel="icon" href="static-assets/favicon.png?v1">

  <!-- style overrides for dartdoc -->
<style>
@import 'https://fonts.googleapis.com/css?family=Roboto:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Google+Sans:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Open+Sans:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Sharp|Material+Icons+Round';
</style>

<link href="https://flutter.github.io/assets-for-api-docs/assets/cupertino/cupertino.css" rel="stylesheet" type="text/css">

<link href="../assets/overrides.css" rel="stylesheet" type="text/css">

<link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Sharp|Material+Icons+Round" rel="stylesheet">
<style>
  /* Rule for sizing the icon. */
  .md-36 { font-size: 36px; }
</style>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f)
})(window,document,'script','dataLayer','GTM-ND4LWWZ');</script>
<!-- End Google Tag Manager -->

<script async="" defer="" src="../assets/api_survey.js"></script>

<!-- Styles and scripting for handling custom code snippets -->
<link href="../assets/snippets.css" rel="stylesheet" type="text/css">
<script src="../assets/snippets.js"></script>

<link rel="search" type="application/opensearchdescription+xml" title="Flutter API" href="/opensearch.xml"/>

</head>


<body data-base-href="../../" data-using-base-href="true" class="light-theme">

<div id="overlay-under-drawer"></div>

<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="index.html">Flutter</a></li>
    <li><a href="rendering/rendering-library.html">rendering</a></li>
    <li><a href="rendering/RenderViewportBase-class.html">RenderViewportBase<span class="signature">&lt;<wbr><span class="type-parameter">ParentDataClass extends ContainerParentDataMixin&lt;<wbr><span class="type-parameter">RenderSliver</span>&gt;</span>&gt;</span></a></li>
    <li class="self-crumb">layoutChildSequence method</li>
  </ol>
  <div class="self-name">layoutChildSequence</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <div class="toggle" id="theme-button">
    <label for="theme">
      <input type="checkbox" id="theme" value="light-theme">
      <span id="dark-theme-button" class="material-symbols-outlined">
        brightness_4
      </span>
      <span id="light-theme-button" class="material-symbols-outlined">
        brightness_5
      </span>
    </label>
  </div>
</header>
<main>

  <div
      id="dartdoc-main-content"
      class="main-content"
      data-above-sidebar="rendering&#47;RenderViewportBase-class-sidebar.html"
      data-below-sidebar="">
      <div>
  <div id="external-links" class="btn-group"><a title="View source code" class="source-link" href="https://github.com/flutter/flutter/blob/master/packages/flutter/lib/src/rendering/viewport.dart#L567"><span class="material-symbols-outlined">description</span></a></div>
<h1><span class="kind-method">layoutChildSequence</span> method 
</h1></div>

    <section class="multi-line-signature">
      
  <div>
    <ol class="annotation-list">
        <li>@<a href="meta/protected-constant.html">protected</a></li>
    </ol>
  </div>

<span class="returntype"><a href="dart-core/double-class.html">double</a></span>
<span class="name ">layoutChildSequence</span>(<wbr><ol class="parameter-list"><li><span class="parameter" id="layoutChildSequence-param-child">{<span>required</span> <span class="type-annotation"><a href="rendering/RenderSliver-class.html">RenderSliver</a>?</span> <span class="parameter-name">child</span>, </span></li>
<li><span class="parameter" id="layoutChildSequence-param-scrollOffset"><span>required</span> <span class="type-annotation"><a href="dart-core/double-class.html">double</a></span> <span class="parameter-name">scrollOffset</span>, </span></li>
<li><span class="parameter" id="layoutChildSequence-param-overlap"><span>required</span> <span class="type-annotation"><a href="dart-core/double-class.html">double</a></span> <span class="parameter-name">overlap</span>, </span></li>
<li><span class="parameter" id="layoutChildSequence-param-layoutOffset"><span>required</span> <span class="type-annotation"><a href="dart-core/double-class.html">double</a></span> <span class="parameter-name">layoutOffset</span>, </span></li>
<li><span class="parameter" id="layoutChildSequence-param-remainingPaintExtent"><span>required</span> <span class="type-annotation"><a href="dart-core/double-class.html">double</a></span> <span class="parameter-name">remainingPaintExtent</span>, </span></li>
<li><span class="parameter" id="layoutChildSequence-param-mainAxisExtent"><span>required</span> <span class="type-annotation"><a href="dart-core/double-class.html">double</a></span> <span class="parameter-name">mainAxisExtent</span>, </span></li>
<li><span class="parameter" id="layoutChildSequence-param-crossAxisExtent"><span>required</span> <span class="type-annotation"><a href="dart-core/double-class.html">double</a></span> <span class="parameter-name">crossAxisExtent</span>, </span></li>
<li><span class="parameter" id="layoutChildSequence-param-growthDirection"><span>required</span> <span class="type-annotation"><a href="rendering/GrowthDirection.html">GrowthDirection</a></span> <span class="parameter-name">growthDirection</span>, </span></li>
<li><span class="parameter" id="layoutChildSequence-param-advance"><span>required</span> <span class="type-annotation"><a href="rendering/RenderSliver-class.html">RenderSliver</a>?</span> <span class="parameter-name">advance</span>(<ol class="parameter-list"><li><span class="parameter" id="param-child"><span class="type-annotation"><a href="rendering/RenderSliver-class.html">RenderSliver</a></span> <span class="parameter-name">child</span></span></li>
</ol>
), </span></li>
<li><span class="parameter" id="layoutChildSequence-param-remainingCacheExtent"><span>required</span> <span class="type-annotation"><a href="dart-core/double-class.html">double</a></span> <span class="parameter-name">remainingCacheExtent</span>, </span></li>
<li><span class="parameter" id="layoutChildSequence-param-cacheOrigin"><span>required</span> <span class="type-annotation"><a href="dart-core/double-class.html">double</a></span> <span class="parameter-name">cacheOrigin</span>}</span></li>
</ol>)

      

    </section>
    
<section class="desc markdown">
  <p>Determines the size and position of some of the children of the viewport.</p>
<p>This function is the workhorse of <code>performLayout</code> implementations in
subclasses.</p>
<p>Layout starts with <code>child</code>, proceeds according to the <code>advance</code> callback,
and stops once <code>advance</code> returns null.</p>
<ul>
<li><code>scrollOffset</code> is the <a href="rendering/SliverConstraints/scrollOffset.html">SliverConstraints.scrollOffset</a> to pass the
first child. The scroll offset is adjusted by
<a href="rendering/SliverGeometry/scrollExtent.html">SliverGeometry.scrollExtent</a> for subsequent children.</li>
<li><code>overlap</code> is the <a href="rendering/SliverConstraints/overlap.html">SliverConstraints.overlap</a> to pass the first child.
The overlay is adjusted by the <a href="rendering/SliverGeometry/paintOrigin.html">SliverGeometry.paintOrigin</a> and
<a href="rendering/SliverGeometry/paintExtent.html">SliverGeometry.paintExtent</a> for subsequent children.</li>
<li><code>layoutOffset</code> is the layout offset at which to place the first child.
The layout offset is updated by the <a href="rendering/SliverGeometry/layoutExtent.html">SliverGeometry.layoutExtent</a> for
subsequent children.</li>
<li><code>remainingPaintExtent</code> is <a href="rendering/SliverConstraints/remainingPaintExtent.html">SliverConstraints.remainingPaintExtent</a> to
pass the first child. The remaining paint extent is updated by the
<a href="rendering/SliverGeometry/layoutExtent.html">SliverGeometry.layoutExtent</a> for subsequent children.</li>
<li><code>mainAxisExtent</code> is the <a href="rendering/SliverConstraints/viewportMainAxisExtent.html">SliverConstraints.viewportMainAxisExtent</a> to
pass to each child.</li>
<li><code>crossAxisExtent</code> is the <a href="rendering/SliverConstraints/crossAxisExtent.html">SliverConstraints.crossAxisExtent</a> to pass to
each child.</li>
<li><code>growthDirection</code> is the <a href="rendering/SliverConstraints/growthDirection.html">SliverConstraints.growthDirection</a> to pass to
each child.</li>
</ul>
<p>Returns the first non-zero <a href="rendering/SliverGeometry/scrollOffsetCorrection.html">SliverGeometry.scrollOffsetCorrection</a>
encountered, if any. Otherwise returns 0.0. Typical callers will call this
function repeatedly until it returns 0.0.</p>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">@protected
double layoutChildSequence({
  required RenderSliver? child,
  required double scrollOffset,
  required double overlap,
  required double layoutOffset,
  required double remainingPaintExtent,
  required double mainAxisExtent,
  required double crossAxisExtent,
  required GrowthDirection growthDirection,
  required RenderSliver? Function(RenderSliver child) advance,
  required double remainingCacheExtent,
  required double cacheOrigin,
}) {
  assert(scrollOffset.isFinite);
  assert(scrollOffset &gt;= 0.0);
  final double initialLayoutOffset = layoutOffset;
  final ScrollDirection adjustedUserScrollDirection =
      applyGrowthDirectionToScrollDirection(offset.userScrollDirection, growthDirection);
  double maxPaintOffset = layoutOffset + overlap;
  double precedingScrollExtent = 0.0;

  while (child != null) {
    final double sliverScrollOffset = scrollOffset &lt;= 0.0 ? 0.0 : scrollOffset;
    &#47;&#47; If the scrollOffset is too small we adjust the paddedOrigin because it
    &#47;&#47; doesn&#39;t make sense to ask a sliver for content before its scroll
    &#47;&#47; offset.
    final double correctedCacheOrigin = math.max(cacheOrigin, -sliverScrollOffset);
    final double cacheExtentCorrection = cacheOrigin - correctedCacheOrigin;

    assert(sliverScrollOffset &gt;= correctedCacheOrigin.abs());
    assert(correctedCacheOrigin &lt;= 0.0);
    assert(sliverScrollOffset &gt;= 0.0);
    assert(cacheExtentCorrection &lt;= 0.0);

    child.layout(SliverConstraints(
      axisDirection: axisDirection,
      growthDirection: growthDirection,
      userScrollDirection: adjustedUserScrollDirection,
      scrollOffset: sliverScrollOffset,
      precedingScrollExtent: precedingScrollExtent,
      overlap: maxPaintOffset - layoutOffset,
      remainingPaintExtent: math.max(0.0, remainingPaintExtent - layoutOffset + initialLayoutOffset),
      crossAxisExtent: crossAxisExtent,
      crossAxisDirection: crossAxisDirection,
      viewportMainAxisExtent: mainAxisExtent,
      remainingCacheExtent: math.max(0.0, remainingCacheExtent + cacheExtentCorrection),
      cacheOrigin: correctedCacheOrigin,
    ), parentUsesSize: true);

    final SliverGeometry childLayoutGeometry = child.geometry!;
    assert(childLayoutGeometry.debugAssertIsValid());

    &#47;&#47; If there is a correction to apply, we&#39;ll have to start over.
    if (childLayoutGeometry.scrollOffsetCorrection != null) {
      return childLayoutGeometry.scrollOffsetCorrection!;
    }

    &#47;&#47; We use the child&#39;s paint origin in our coordinate system as the
    &#47;&#47; layoutOffset we store in the child&#39;s parent data.
    final double effectiveLayoutOffset = layoutOffset + childLayoutGeometry.paintOrigin;

    &#47;&#47; `effectiveLayoutOffset` becomes meaningless once we moved past the trailing edge
    &#47;&#47; because `childLayoutGeometry.layoutExtent` is zero. Using the still increasing
    &#47;&#47; &#39;scrollOffset` to roughly position these invisible slivers in the right order.
    if (childLayoutGeometry.visible || scrollOffset &gt; 0) {
      updateChildLayoutOffset(child, effectiveLayoutOffset, growthDirection);
    } else {
      updateChildLayoutOffset(child, -scrollOffset + initialLayoutOffset, growthDirection);
    }

    maxPaintOffset = math.max(effectiveLayoutOffset + childLayoutGeometry.paintExtent, maxPaintOffset);
    scrollOffset -= childLayoutGeometry.scrollExtent;
    precedingScrollExtent += childLayoutGeometry.scrollExtent;
    layoutOffset += childLayoutGeometry.layoutExtent;
    if (childLayoutGeometry.cacheExtent != 0.0) {
      remainingCacheExtent -= childLayoutGeometry.cacheExtent - cacheExtentCorrection;
      cacheOrigin = math.min(correctedCacheOrigin + childLayoutGeometry.cacheExtent, 0.0);
    }

    updateOutOfBandData(growthDirection, childLayoutGeometry);

    &#47;&#47; move on to the next child
    child = advance(child);
  }

  &#47;&#47; we made it without a correction, whee!
  return 0.0;
}</code></pre>
</section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="index.html">Flutter</a></li>
    <li><a href="rendering/rendering-library.html">rendering</a></li>
    <li><a href="rendering/RenderViewportBase-class.html">RenderViewportBase<span class="signature">&lt;<wbr><span class="type-parameter">ParentDataClass extends ContainerParentDataMixin&lt;<wbr><span class="type-parameter">RenderSliver</span>&gt;</span>&gt;</span></a></li>
    <li class="self-crumb">layoutChildSequence method</li>
</ol>


    <h5>RenderViewportBase class</h5>
  </div><!--/.sidebar-offcanvas-->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    Flutter
      0.0.0
  </span>

  <script src="footer.js"></script>
</footer>



<script src="static-assets/highlight.pack.js?v1"></script>
<script src="static-assets/docs.dart.js"></script>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-ND4LWWZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


</body>

</html>

