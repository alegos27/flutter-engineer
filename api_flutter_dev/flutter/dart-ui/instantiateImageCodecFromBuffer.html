<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the instantiateImageCodecFromBuffer function from the dart:ui library, for the Dart programming language.">
  <title>instantiateImageCodecFromBuffer function - dart:ui library - Dart API</title>

  <!-- required because all the links are pseudo-absolute -->
  <base href="../">

  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="static-assets/github.css?v1">
  <link rel="stylesheet" href="static-assets/styles.css?v1">
  <link rel="icon" href="static-assets/favicon.png?v1">

  <!-- style overrides for dartdoc -->
<style>
@import 'https://fonts.googleapis.com/css?family=Roboto:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Google+Sans:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Open+Sans:500,400italic,300,400,100i';
@import 'https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Sharp|Material+Icons+Round';
</style>

<link href="https://flutter.github.io/assets-for-api-docs/assets/cupertino/cupertino.css" rel="stylesheet" type="text/css">

<link href="../assets/overrides.css" rel="stylesheet" type="text/css">

<link href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined|Material+Icons+Sharp|Material+Icons+Round" rel="stylesheet">
<style>
  /* Rule for sizing the icon. */
  .md-36 { font-size: 36px; }
</style>

<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f)
})(window,document,'script','dataLayer','GTM-ND4LWWZ');</script>
<!-- End Google Tag Manager -->

<script async="" defer="" src="../assets/api_survey.js"></script>

<!-- Styles and scripting for handling custom code snippets -->
<link href="../assets/snippets.css" rel="stylesheet" type="text/css">
<script src="../assets/snippets.js"></script>

<link rel="search" type="application/opensearchdescription+xml" title="Flutter API" href="/opensearch.xml"/>

</head>


<body data-base-href="../" data-using-base-href="true" class="light-theme">

<div id="overlay-under-drawer"></div>

<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="index.html">Flutter</a></li>
    <li><a href="dart-ui/dart-ui-library.html">dart:ui</a></li>
    <li class="self-crumb">instantiateImageCodecFromBuffer function</li>
  </ol>
  <div class="self-name">instantiateImageCodecFromBuffer</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <div class="toggle" id="theme-button">
    <label for="theme">
      <input type="checkbox" id="theme" value="light-theme">
      <span id="dark-theme-button" class="material-symbols-outlined">
        brightness_4
      </span>
      <span id="light-theme-button" class="material-symbols-outlined">
        brightness_5
      </span>
    </label>
  </div>
</header>
<main>

  <div
      id="dartdoc-main-content"
      class="main-content"
      data-above-sidebar="dart-ui&#47;dart-ui-library-sidebar.html"
      data-below-sidebar="">
      <div>
<h1><span class="kind-function">instantiateImageCodecFromBuffer</span> function 
 
</h1></div>

    <section class="multi-line-signature">
        

<span class="returntype"><a href="dart-async/Future-class.html">Future</a><span class="signature">&lt;<wbr><span class="type-parameter"><a href="dart-ui/Codec-class.html">Codec</a></span>&gt;</span></span>
<span class="name ">instantiateImageCodecFromBuffer</span>(<wbr><ol class="parameter-list"><li><span class="parameter" id="instantiateImageCodecFromBuffer-param-buffer"><span class="type-annotation"><a href="dart-ui/ImmutableBuffer-class.html">ImmutableBuffer</a></span> <span class="parameter-name">buffer</span>, </span></li>
<li><span class="parameter" id="instantiateImageCodecFromBuffer-param-targetWidth">{<span class="type-annotation"><a href="dart-core/int-class.html">int</a>?</span> <span class="parameter-name">targetWidth</span>, </span></li>
<li><span class="parameter" id="instantiateImageCodecFromBuffer-param-targetHeight"><span class="type-annotation"><a href="dart-core/int-class.html">int</a>?</span> <span class="parameter-name">targetHeight</span>, </span></li>
<li><span class="parameter" id="instantiateImageCodecFromBuffer-param-allowUpscaling"><span class="type-annotation"><a href="dart-core/bool-class.html">bool</a></span> <span class="parameter-name">allowUpscaling</span> = <span class="default-value">true</span>}</span></li>
</ol>)

        

    </section>
    
<section class="desc markdown">
  <p>Instantiates an image <a href="dart-ui/Codec-class.html">Codec</a>.</p>
<p>This method is a convenience wrapper around the <a href="dart-ui/ImageDescriptor-class.html">ImageDescriptor</a> API, and
using <a href="dart-ui/ImageDescriptor-class.html">ImageDescriptor</a> directly is preferred since it allows the caller to
make better determinations about how and whether to use the <code>targetWidth</code>
and <code>targetHeight</code> parameters.</p>
<p>The <code>buffer</code> parameter is the binary image data (e.g a PNG or GIF binary data).
The data can be for either static or animated images. The following image
formats are supported: JPEG, PNG, GIF, Animated GIF, WebP, Animated WebP, BMP, and WBMP. Additional
formats may be supported by the underlying platform. Flutter will
attempt to call platform API to decode unrecognized formats, and if the
platform API supports decoding the image Flutter will be able to render it.</p>
<p>The <code>buffer</code> will be disposed by this method once the codec has been created,
so the caller must relinquish ownership of the <code>buffer</code> when they call this
method.</p>
<p>The <code>targetWidth</code> and <code>targetHeight</code> arguments specify the size of the
output image, in image pixels. If they are not equal to the intrinsic
dimensions of the image, then the image will be scaled after being decoded.
If the <code>allowUpscaling</code> parameter is not set to true, both dimensions will
be capped at the intrinsic dimensions of the image, even if only one of
them would have exceeded those intrinsic dimensions. If exactly one of these
two arguments is specified, then the aspect ratio will be maintained while
forcing the image to match the other given dimension. If neither is
specified, then the image maintains its intrinsic size.</p>
<p>Scaling the image to larger than its intrinsic size should usually be
avoided, since it causes the image to use more memory than necessary.
Instead, prefer scaling the <a href="dart-ui/Canvas-class.html">Canvas</a> transform. If the image must be scaled
up, the <code>allowUpscaling</code> parameter must be set to true.</p>
<p>The returned future can complete with an error if the image decoding has
failed.</p>
<h2 id="compatibility-note-on-the-web">Compatibility note on the web</h2>
<p>When running Flutter on the web, only the CanvasKit renderer supports image
resizing capabilities (not the HTML renderer). So if image resizing is
critical to your use case, and you're deploying to the web, you should
build using the CanvasKit renderer.</p>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">Future&lt;Codec&gt; instantiateImageCodecFromBuffer(
  ImmutableBuffer buffer, {
  int? targetWidth,
  int? targetHeight,
  bool allowUpscaling = true,
}) {
  return instantiateImageCodecWithSize(
    buffer,
    getTargetSize: (int intrinsicWidth, int intrinsicHeight) {
      if (!allowUpscaling) {
        if (targetWidth != null &amp;&amp; targetWidth! &gt; intrinsicWidth) {
          targetWidth = intrinsicWidth;
        }
        if (targetHeight != null &amp;&amp; targetHeight! &gt; intrinsicHeight) {
          targetHeight = intrinsicHeight;
        }
      }
      return TargetImageSize(width: targetWidth, height: targetHeight);
    },
  );
}</code></pre>
</section>


  </div> <!-- /.main-content -->

  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>

<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="index.html">Flutter</a></li>
    <li><a href="dart-ui/dart-ui-library.html">dart:ui</a></li>
    <li class="self-crumb">instantiateImageCodecFromBuffer function</li>
</ol>


    <h5>dart:ui library</h5>
  </div><!--/.sidebar-offcanvas-left-->

  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
  </div><!--/.sidebar-offcanvas-->

</main>

<footer>
  <span class="no-break">
    Flutter
      0.0.0
  </span>

  <script src="footer.js"></script>
</footer>



<script src="static-assets/highlight.pack.js?v1"></script>
<script src="static-assets/docs.dart.js"></script>

<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-ND4LWWZ"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->


</body>

</html>

